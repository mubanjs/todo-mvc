<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.33">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>2. Templates and Styles | Muban Todo MVC</title><meta name="description" content="A sample and tutorial on how to create the Todo MVC app in Muban">
    <link rel="modulepreload" href="/todo-mvc/assets/app.387eb9c4.js"><link rel="modulepreload" href="/todo-mvc/assets/todo-mvc-client-2.html.ad911ad2.js"><link rel="modulepreload" href="/todo-mvc/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/todo-mvc/assets/todo-mvc-client-2.html.9295533f.js">
    <link rel="stylesheet" href="/todo-mvc/assets/style.e7368231.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/todo-mvc/" class=""><!----><span class="site-name">Muban Todo MVC</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/todo-mvc/" class="" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a></div><div class="navbar-item"><a href="/todo-mvc/todo-mvc-client/" class="router-link-active" aria-label="Todo MVC Client"><!--[--><!--]--> Todo MVC Client <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/mubanjs/todo-mvc" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/todo-mvc/" class="" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a></div><div class="navbar-item"><a href="/todo-mvc/todo-mvc-client/" class="router-link-active" aria-label="Todo MVC Client"><!--[--><!--]--> Todo MVC Client <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/mubanjs/todo-mvc" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/todo-mvc/todo-mvc-client/" class="router-link-active sidebar-item sidebar-heading" aria-label="Todo MVC Client Tutorial"><!--[--><!--]--> Todo MVC Client Tutorial <!--[--><!--]--></a><!----></li><li><a href="/todo-mvc/todo-mvc-client/todo-mvc-client-1.html" class="sidebar-item sidebar-heading" aria-label="1. Initial Setup"><!--[--><!--]--> 1. Initial Setup <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/todo-mvc/todo-mvc-client/todo-mvc-client-2.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="2. Templates and Styles"><!--[--><!--]--> 2. Templates and Styles <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/todo-mvc/todo-mvc-client/todo-mvc-client-2.html#todoitem" class="router-link-active router-link-exact-active sidebar-item" aria-label="TodoItem"><!--[--><!--]--> TodoItem <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/todo-mvc/todo-mvc-client/todo-mvc-client-2.html#appheader" class="router-link-active router-link-exact-active sidebar-item" aria-label="AppHeader"><!--[--><!--]--> AppHeader <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/todo-mvc/todo-mvc-client/todo-mvc-client-2.html#appfooter" class="router-link-active router-link-exact-active sidebar-item" aria-label="AppFooter"><!--[--><!--]--> AppFooter <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/todo-mvc/todo-mvc-client/todo-mvc-client-2.html#app" class="router-link-active router-link-exact-active sidebar-item" aria-label="App"><!--[--><!--]--> App <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/todo-mvc/todo-mvc-client/todo-mvc-client-2.html#main-ts-data" class="router-link-active router-link-exact-active sidebar-item" aria-label="main.ts Data"><!--[--><!--]--> main.ts Data <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/todo-mvc/todo-mvc-client/todo-mvc-client-3.html" class="sidebar-item sidebar-heading" aria-label="3. Adding Interaction"><!--[--><!--]--> 3. Adding Interaction <!--[--><!--]--></a><!----></li><li><a href="/todo-mvc/todo-mvc-client/todo-mvc-client-4.html" class="sidebar-item sidebar-heading" aria-label="4. Completing the project"><!--[--><!--]--> 4. Completing the project <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="_2-templates-and-styles" tabindex="-1"><a class="header-anchor" href="#_2-templates-and-styles" aria-hidden="true">#</a> 2. Templates and Styles</h1><p>To save some time (and for consistency) we&#39;re going to copy all the html and css from the Todo MVC template repo.</p><p>The CSS can be found <a href="https://github.com/mubanjs/todo-mvc/blob/main/projects/todo-app-client/src/style.css" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>, and it can be copied over into your <code>src/style.css</code> file.</p><p>The HTML can be cut into 4 different templates:</p><ol><li>An individual <code>TodoItem</code>.</li><li>The <code>AppHeader</code> section, with an input for new todos.</li><li>The <code>AppFooter</code> sections, which shows some information, and allows you to filter todos by state.</li><li>The <code>App</code> component itself, which is responsible for rendering the <code>TodoItem</code> components, and connect with the <code>AppHeader</code> and <code>AppFooter</code> components.</li></ol><h2 id="todoitem" tabindex="-1"><a class="header-anchor" href="#todoitem" aria-hidden="true">#</a> <code>TodoItem</code></h2><p>Create a <code>src/components/todo-item/TodoItem.template.ts</code> with the following content;</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">src/components/todo-item/TodoItem.template.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ComponentTemplateResult <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">TodoItemTemplateProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  isCompleted<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">todoItemTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">,</span>
  isCompleted<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> TodoItemTemplateProps<span class="token punctuation">)</span><span class="token operator">:</span> ComponentTemplateResult <span class="token punctuation">{</span>
  <span class="token comment">// there is also an `editing` class, but that&#39;s only set when interacting with the element</span>
  <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li data-component=&quot;todo-item&quot; class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isCompleted <span class="token operator">?</span> <span class="token string">&#39;completed&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;
    &lt;div class=&quot;view&quot;&gt;
      &lt;input data-ref=&quot;completedInput&quot; class=&quot;toggle&quot; type=&quot;checkbox&quot; checked=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isCompleted<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> /&gt;
      &lt;label data-ref=&quot;title&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/label&gt;
      &lt;button data-ref=&quot;destroyButton&quot; class=&quot;destroy&quot;&gt;&lt;/button&gt;
    &lt;/div&gt;
    &lt;input data-ref=&quot;editInput&quot; class=&quot;edit&quot; /&gt;
  &lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><!--]--></div><!--]--></div><p>This template has two properties: <code>title</code>, the title of each todo, and <code>isCompleted</code>, an indicator for when an item has been completed. Data wise, this is all we know about the item, and what we are later going to save into <code>LocalStorage</code>.</p><blockquote><p>It does have an <code>editing</code> state, but that is all handled by the Component if users interact with it. The &quot;initial state&quot; can never be &quot;editing&quot;.</p></blockquote><p>With the props we do the following:</p><ol><li>We enter the <code>title</code> in the label.</li><li>We conditionally add the <code>completed</code> class. And we mark the checkbox as <code>checked</code>.</li><li>We&#39;re <strong>not</strong> setting the value of the &quot;edit&quot; <code>input</code> field, this will be done by the Component when switching into &quot;editing mode&quot;.</li></ol><p>Besides the props, we have also added <code>data-ref</code> attributes on all elements that require updates from the Component after interacting with the application later.</p><ol><li>The <code>data-component</code> doesn&#39;t need a <code>data-ref</code>, it can be referenced using <code>refs.self</code>.</li><li>The <code>data-ref=&quot;completedInput&quot;</code> is for the checkbox, we need to listen when its state changes.</li><li>The <code>data-ref=&quot;title&quot;</code> is to read the initial title value, and to update it later when editing.</li><li>The <code>data-ref=&quot;destroyButton&quot;</code> needs a <code>click</code> binding, so we can remove the item.</li><li>The <code>data-ref=&quot;editInput&quot;</code> needs a <code>value</code>, so we can set and update its value.</li></ol><blockquote><p>Anything that doesn&#39;t have a <code>data-ref</code> attribute will stay as rendered.</p></blockquote><p>The two properties that we passed to the template (<code>{ title, isCompleted }</code>) are not automatically available in JS when we create our Component. We might not even always need them. In this case we do, so we need to think about how the Component is going to get access to them later.</p><p>For the <code>title</code>, we can easily read the <code>textContent</code> of the <code>&lt;label&gt;</code> tag, so as long as that element has a <code>data-ref</code>, we&#39;re good. For the <code>isCompleted</code> we have two options to extract it, we can either use the <code>class=&quot;completed&quot;</code> on the root element, or use the <code>checked</code> attribute on the input.</p><h2 id="appheader" tabindex="-1"><a class="header-anchor" href="#appheader" aria-hidden="true">#</a> <code>AppHeader</code></h2><p>Create a <code>src/components/app-header/AppHeader.template.ts</code> with the following content;</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">src/components/app-header/AppHeader.template.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ComponentTemplateResult <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">AppHeaderTemplateProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">appHeaderTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title <span class="token operator">=</span> <span class="token string">&#39;Todos&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> AppHeaderTemplateProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> ComponentTemplateResult <span class="token punctuation">{</span>
  <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div data-component=&quot;app-header&quot; class=&quot;header&quot;&gt;
    &lt;h1&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h1&gt;
    &lt;input
      data-ref=&quot;newTodoInput&quot;
      class=&quot;new-todo&quot;
      placeholder=&quot;What needs to be done?&quot;
      autofocus
    /&gt;
  &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><!--]--></div><!--]--></div><p>This template is similar to what we had before in the <code>App</code> template (the <code>title</code>). It also has an input for adding new todos.</p><p>What we have done here is;</p><ol><li>Add the <code>data-component=&quot;app-header&quot;</code> attribute to the root element.</li><li>Render the <code>title</code>.</li><li>Add <code>data-ref=&quot;newTodoInput&quot;</code> to interact with the input element to add new todos.</li></ol><p>There is no initial data in this template that our Component needs access to later, so there is nothing else to do.</p><h2 id="appfooter" tabindex="-1"><a class="header-anchor" href="#appfooter" aria-hidden="true">#</a> <code>AppFooter</code></h2><p>Create a <code>src/components/app-footer/AppFooter.template.ts</code> with the following content;</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">src/components/app-footer/AppFooter.template.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ComponentTemplateResult <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">AppFooterTemplateProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  uncompletedCount<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  selectedFilter<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;active&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;completed&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">appFooterTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  uncompletedCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  selectedFilter<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token operator">:</span> AppFooterTemplateProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> ComponentTemplateResult <span class="token punctuation">{</span>
  <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;footer data-component=&quot;app-footer&quot; class=&quot;footer&quot;&gt;
      &lt;span data-ref=&quot;remainingCount&quot; class=&quot;todo-count&quot;&gt;
        &lt;strong&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>uncompletedCount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/strong&gt; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>uncompletedCount <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&#39;item&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;items&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> left
      &lt;/span&gt;
      &lt;ul class=&quot;filters&quot;&gt;
        &lt;li&gt;
          &lt;a data-ref=&quot;filterAll&quot; class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">!</span>selectedFilter <span class="token operator">?</span> <span class="token string">&#39;selected&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot; href=&quot;#/&quot;&gt;All&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a
            data-ref=&quot;filterActive&quot;
            class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>selectedFilter <span class="token operator">===</span> <span class="token string">&#39;active&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;selected&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
            href=&quot;#/active&quot;
          &gt;
            Active
          &lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a
            data-ref=&quot;filterCompleted&quot;
            class=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>selectedFilter <span class="token operator">===</span> <span class="token string">&#39;completed&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;selected&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;
            href=&quot;#/completed&quot;
          &gt;
            Completed
          &lt;/a&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
      &lt;!-- Hidden if no completed items are left ↓ --&gt;
      &lt;button data-ref=&quot;clearCompletedButton&quot; class=&quot;clear-completed&quot;&gt;Clear completed&lt;/button&gt;
    &lt;/footer&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><!--]--></div><!--]--></div><p>This template has 3 purposes:</p><ol><li>It shows how many todo items are uncompleted.</li><li>Some filters we can activate (we need to set up routing for this).</li><li>A button to remove everything that we have completed.</li></ol><p>We receive two props:</p><ol><li>An <code>uncompletedCount</code> that we render here, including the correct pluralisation of <code>items</code>. Note that this condition is just for the template rendering, the initial state from the server. Whenever this changes after interacting on the client, it will be updated from the Component using <code>bindings</code>.</li><li>An optional <code>selectedFilter</code>, which is used to set the <code>selected</code> class on the right filter element.</li></ol><p>To update the count (and the correct label) later, we have added the <code>data-ref=&quot;todoCount&quot;</code> to this span. For this example we&#39;re going to update the complete value later, including the <code>&lt;strong&gt;</code> tag – which means we will need to render <code>html</code>. We could also have chosen to introduce another <code>&lt;span&gt;</code> tag around the label, and update the count and the label separately with normal <code>text</code> bindings.</p><p>Our filters also have <code>data-ref</code> attributes added, so we can add or remove the <code>selected</code> class based on interactions we do later.</p><p>And lastly we added <code>data-ref=&quot;clearCompletedButton&quot;</code> to interact with the clear button.</p><h2 id="app" tabindex="-1"><a class="header-anchor" href="#app" aria-hidden="true">#</a> <code>App</code></h2><p>Update our <code>src/components/app/App.template.ts</code> to the following;</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">src/components/app/App.template.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> ComponentTemplateResult <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> html <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> appFooterTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../app-footer/AppFooter.template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> appHeaderTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../app-header/AppHeader.template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> TodoItemTemplateProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../todo-item/TodoItem.template&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> todoItemTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../todo-item/TodoItem.template&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">AppTemplateProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  todos<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TodoItemTemplateProps<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">appTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">,</span> todos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token operator">:</span> AppTemplateProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> ComponentTemplateResult <span class="token punctuation">{</span>
  <span class="token keyword">return</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div data-component=&quot;app&quot;&gt;
      &lt;section class=&quot;todoapp&quot;&gt;
        </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">appHeaderTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        &lt;section class=&quot;main&quot;&gt;
          &lt;input data-ref=&quot;toggleAllInput&quot; id=&quot;toggle-all&quot; class=&quot;toggle-all&quot; type=&quot;checkbox&quot; /&gt;
          &lt;label for=&quot;toggle-all&quot;&gt;Mark all as complete&lt;/label&gt;
          &lt;ul data-ref=&quot;todoList&quot; class=&quot;todo-list&quot;&gt;
            </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">todoItemTemplate</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
          &lt;/ul&gt;
        &lt;/section&gt;
        </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">appFooterTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> uncompletedCount<span class="token operator">:</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>isCompleted<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
      &lt;/section&gt;
      &lt;footer class=&quot;info&quot;&gt;
        &lt;p&gt;Double-click to edit a todo&lt;/p&gt;
        &lt;p&gt;Created by &lt;a href=&quot;http://github.com/mubanjs&quot;&gt;Muban&lt;/a&gt;&lt;/p&gt;
      &lt;/footer&gt;
    &lt;/div&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><!--]--></div><!--]--></div><p>This is where everything comes together. Keep in mind that we&#39;re still just rendering templates, the &quot;initial state&quot; of our application, that is normally rendered on the server.</p><p>From the <code>main.ts</code> (that renders our component when mounting) we expect to receive the title, and a list of todo items (that are known on the server). We re-use the <code>TodoItemTemplateProps</code> type here to specify which fields each todo item should have. We could also have created a <code>TodoItem</code> type, and use that in the <code>TemplateProps</code> types of both components.</p><p>As you can see, we rendered some child templates:</p><ol><li><code>appHeaderTemplate</code> renders the header, passing along the <code>title</code> prop.</li><li>We map over our <code>todos</code> list, and for each item, we render the <code>todoItemTemplate</code> template, passing along the data.</li><li><code>appFooterTemplate</code> renders the footer, passing the <code>uncompletedCount</code> using an inline filter.</li></ol><p>And we have a <code>data-ref=&quot;toggleAllInput&quot;</code> here as well, to toggle the state of all todos in the list.</p><h2 id="main-ts-data" tabindex="-1"><a class="header-anchor" href="#main-ts-data" aria-hidden="true">#</a> <code>main.ts</code> Data</h2><p>And finally, since we update our App template, we should also pass different data when mounting our app. Please update <code>main.ts</code> to the following:</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">src/main.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token string">&#39;./style.css&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@muban/muban&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./components/app/App&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> appTemplate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./components/app/App.template&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> appRoot <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>appRoot<span class="token punctuation">,</span> appTemplate<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">&#39;Todos&#39;</span><span class="token punctuation">,</span>
  todos<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&#39;Taste JavaScript&#39;</span><span class="token punctuation">,</span>
      isCompleted<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">&#39;Buy a unicorn&#39;</span><span class="token punctuation">,</span>
      isCompleted<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><!--]--></div><!--]--></div><p>In here we&#39;re passing the <code>todos</code> array with the <code>title</code> and <code>isCompleted</code> for each item. Everything in that object is typed, so your editor knows exactly what to specify here, and you will get an error if you make a typo, or forget a required property.</p><p>If you visit http://localhost:3000/, you should now see a nice static Todo app!</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/mubanjs/todo-mvc/edit/main/docs/todo-mvc-client/todo-mvc-client-2.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: p.simkevi@gmail.com">Paulius Simkevicius</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: thanarie@gmail.com">Arjan van Wijk</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/todo-mvc/todo-mvc-client/todo-mvc-client-1.html" class="" aria-label="1. Initial Setup"><!--[--><!--]--> 1. Initial Setup <!--[--><!--]--></a></span><span class="next"><a href="/todo-mvc/todo-mvc-client/todo-mvc-client-3.html" class="" aria-label="3. Adding Interaction"><!--[--><!--]--> 3. Adding Interaction <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/todo-mvc/assets/app.387eb9c4.js" defer></script>
  </body>
</html>
